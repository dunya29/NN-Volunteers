document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=".js-select-btn",t=".js-select-list",s=".js-select-option",c="active",o=document.querySelectorAll(".js-select");function n(){const s=document.querySelectorAll(e),o=document.querySelectorAll(t);s.forEach((e=>e.classList.remove(c))),o.forEach((e=>e.classList.remove(c)))}o.length&&(o.forEach((o=>{const r=o.querySelector(e),a=o.querySelector(t),i=a.querySelectorAll(s);r.addEventListener("click",(t=>{const s=t.target.closest(e);s.classList.contains(c)?(s.classList.remove(c),a.classList.remove(c)):(n(),s.classList.add(c),a.classList.add(c))})),a.addEventListener("click",(e=>{const t=e.target.closest(s);if(t){const e=t.getAttribute("data-value"),s=t.innerHTML,o=t.textContent;i.forEach((e=>e.classList.remove(c))),t.classList.add(c),r.classList.remove(c),r.innerHTML=s,r.setAttribute("data-value",e),a.classList.remove(c),document.getElementById("select-service")&&(document.getElementById("select-service").value=o)}}))})),document.addEventListener("click",(e=>{const t=e.target;t&&!t.closest(".js-select")&&n()})))}();const e=document.querySelector(".focus__swiper");if(e){const t=new Swiper(e,{slidesPerView:"auto",loop:!1,effect:"fade",autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".focus__next",prevEl:".focus__prev"}});t.on("slideChange",(function(){s.forEach((e=>{e.classList.remove("active")})),document.querySelector(`.focus-articles__item[data-index="${t.realIndex}"]`).classList.add("active")}));const s=document.querySelectorAll(".focus-articles__item");s.forEach(((e,c)=>{e.setAttribute("data-index",c),e.addEventListener("click",(e=>{const c=e.currentTarget.dataset.index;s.forEach((e=>{e.classList.remove("active")})),e.currentTarget.classList.add("active"),t.slideTo(c)}))}))}if(function(){const e=window,t=(document,document.documentElement,document.body),s=document?.querySelector(".header").offsetHeight;document.querySelector(":root").style.setProperty("--header-height",`${s}px`);const c=document?.querySelector("[data-burger]"),o=document?.querySelector("[data-menu]");c?.addEventListener("click",(s=>{c?.classList.toggle("burger--active"),o?.classList.toggle("menu--active"),o?.classList.contains("menu--active")?(c?.setAttribute("aria-expanded","true"),c?.setAttribute("aria-label","Закрыть меню"),function(){const s=document?.querySelectorAll(".fixed-block"),c=window.scrollY,o=e.innerWidth-t.offsetWidth+"px";s.forEach((e=>{e.style.paddingRight=o})),t.style.paddingRight=o,t.classList.add("dis-scroll"),t.dataset.position=c,t.style.top=`-${c}px`}()):(c?.setAttribute("aria-expanded","false"),c?.setAttribute("aria-label","Открыть меню"),function(){const e=document?.querySelectorAll(".fixed-block"),s=(document.body,parseInt(t.dataset.position,10));e.forEach((e=>{e.style.paddingRight="0px"})),t.style.paddingRight="0px",t.style.top="auto",t.classList.remove("dis-scroll"),window.scroll({top:s,left:0}),t.removeAttribute("data-position")}())}));const n=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",n),n()}(),document.querySelectorAll(".dropdown-footer").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget,s=(t.querySelector(".footer-link"),t.querySelector(".footer-nav"));t.classList.toggle("open"),t.classList.contains("open")?s.style.maxHeight=s.scrollHeight+"px":s.style.maxHeight=null}))})),document.getElementById("phone-number")){(()=>{const e=e=>{let t="+7 (___) ___-__-__",s=0,c=t.replace(/\D/g,""),o=e.value.replace(/\D/g,"");c.length>=o.length&&(o=c),e.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&s<o.length?o.charAt(s++):s>=o.length?"":e}))},t=document.getElementById("phone-number");t.addEventListener("click",(function(){t.addEventListener("input",e.bind(null,t),!1),t.addEventListener("focus",e.bind(null,t),!1),t.addEventListener("blur",e.bind(null,t),!1)}))})()}(()=>{const e=document.querySelector(".js-form");if(e){const t=new Pristine(e);e.addEventListener("submit",(s=>{s.preventDefault();1==t.validate()&&(s.target.submit(),e.reset())}))}})(),function(){const e=document.querySelector(".hero");e&&(gsap.registerPlugin(ScrollTrigger),gsap.to(e,{scrollTrigger:{trigger:e,start:"1800 bottom",scrub:!0},opacity:0}))}();const t=new Swiper(".swiper--topical-thumb",{slidesPerView:"auto",freeMode:!1,watchSlidesProgress:!1,allowTouchMove:!1}),s=(new Swiper(".swiper--topical",{spaceBetween:10,slidesPerView:"auto",navigation:{nextEl:".topical__next",prevEl:".topical__prev"},pagination:{el:".swiper-pagination",type:"progressbar"},thumbs:{swiper:t},on:{slideChange(){const e=this.realIndex+1;document.querySelector(".current-slide").textContent=e},beforeInit(){const e=this.wrapperEl.querySelectorAll(".swiper-slide").length;document.querySelector(".total-slides").textContent=e}}}),document.querySelectorAll(".js-show-popup")),c=document.querySelectorAll(".js-popup"),o=document.body,n=document.querySelector(".js-overlay"),r="active",a="overflow",i=(()=>{const e=e=>{e&&(o.classList.remove(a),n.classList.remove(r),e.classList.remove(r),document.querySelector(".active[data-content]")&&document.querySelector(".active[data-tab]")&&(document.querySelector(".active[data-content]").classList.remove(r),document.querySelector(".active[data-tab]").classList.remove(r)))},t=()=>{s.length&&s.forEach((e=>{e.addEventListener("click",(e=>{(e=>{const t=e.target.closest(".js-show-popup"),s=document.querySelector(".js-popup.active"),c=document.querySelector(`[data-popup=${t.dataset.trigger}]`);s&&s.classList.remove(r),t.dataset.tab&&(c.querySelector(`[data-tab="${t.dataset.tab}"]`).classList.add(r),c.querySelector(`[data-content="${t.dataset.tab}"]`).classList.add(r)),c.classList.add(r),o.classList.add(a),n.classList.add(r)})(e)}))})),n&&n.addEventListener("click",(()=>{e(document.querySelector(".js-popup.active"))})),c.length&&c.forEach((t=>{t.addEventListener("click",(s=>{s.target.closest(".js-popup-close")&&e(t)}))}))};return{init:()=>{c.length&&t()}}})();jQuery(document).ready((function(e){document.addEventListener("wpcf7mailsent",(function(e){document.querySelector("[data-popup=some-popup]").classList.add(r),o.classList.add(a),n.classList.add(r)}),!1)})),i.init(),function(){const e=document.querySelector(".btn-search"),t=document.querySelector(".header__search");t&&(e.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active")})),document.addEventListener("click",(s=>{s.target.classList.contains("header__search")||s.target.closest(".header__search")||s.target.classList.contains("btn-search")||(t.classList.remove("active"),e.classList.remove("active"))})))}();document.querySelectorAll(".accordion").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget,s=t.querySelector(".accordion__control"),c=t.querySelector(".accordion__content");t.classList.toggle("open"),t.classList.contains("open")?(s.setAttribute("aria-expanded",!0),c.setAttribute("aria-hidden",!1),c.style.maxHeight=c.scrollHeight+"px",console.log("test")):(s.setAttribute("aria-expanded",!1),c.setAttribute("aria-hidden",!0),c.style.maxHeight=null)}))}))}));